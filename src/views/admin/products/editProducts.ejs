<!DOCTYPE html>
    <%-include("../partials/headAdmin")%>
<body>
    <%-include("../partials/headerAdmin")%>
    
    <main class="addP">

        <h2><%=postHeader%></h2>
        <form action="/admin/productos/editar/<%-product.id%>?_method=PUT" method="POST" enctype="multipart/form-data" id="form">
            <div class="inp-cont">
                <label for="name">Nombre del producto</label>
                <input type="text" name="name" value="<%=product.name%>" id="name">
                <span id="nameError" class="spanError"></span>
            </div>

            <div class="inp-cont-category">
                
                <label for="category">Categoria del Producto</label>
                <div class="divCategory" id="divCategoryFather" >
                <% category.forEach((e) => {  %> 
                    <div>
                        
                        <label class="labelCategories">
                            <input type="radio" name="category" value="<%=e.id%>"id="category" class="inputCategory" <% if (e.id == product.category_id){ %> checked <% } %>> 
                            <%=e.name %>
                        </label>
                    </div>
                <% }) %> 
                </div>
                <span id="categoryError" class="spanError"></span>
            </div>
            
            <div class="inp-cont">
                <label for="price">Precio</label>
                <input type="text" name="price" value="<%=product.price%>" id="price">
                <span id="priceError" class="spanError"></span>
            </div>

            <div class="inp-cont">
                <label for="stock">Stock del Producto</label>
                <input type="number" name="stock" value="<%=product.stock%>" id="stock">
                <span id="stockError" class="spanError"></span>
            </div>

            <div class="inp-cont">
                <label for="discount">Descuento</label>
                <input type="number" name="discount" value="<%=product.discount%>" id="discount">
                <span id="discountError" class="spanError"></span>
            </div>
            
            <div class="inp-cont">
                <label for="description">Descripci√≥n del producto</label>
                <textarea name="description" id="description" cols="25" rows="10" ><%=product.description%></textarea>
                <span id="descriptionError" class="spanError"></span>
            </div>

            
            <% if (product.ingredients.length > 0){ %>
                <div class="inp-cont">
                    <label for="ingredients" class="label-ing">Editar ingredientes:</label>
                    <div class="check-ing">
                         
                        <input type="text" name="ingredient1" value="<%= product.ingredients[0].name%>" class="ingrediente" id="ingredient1">
                        <input type="text" name="ingredient2" value="<%= product.ingredients[1].name%>" class="ingrediente" id="ingredient2">
                        <input type="text" name="ingredient3" value="<%= product.ingredients[2].name%>" class="ingrediente" id="ingredient3">
                        
                    </div>
                </div>
                    <% } %>
            

            <div class="inp-cont">
                <label for="coment">Comentario adicional</label>
                <textarea name="coment" id="coment" cols="25" rows="10" ><%=product.coment%></textarea>
                <span id="comentError" class="spanError"></span>
            </div>
            
            <div class="inp-cont file-cont">
                <label for="image"><i class="fa-solid fa-file-arrow-up"></i> Cargar Imagenes</label>
                <input type="file" name="image" id="image" multiple>
            </div>
            
            <div class="inp-cont ">
                <button type="submit" class="btn-add">Guardar</button>
                <span id="submitError" class="spanError"></span>
            </div>
        </form>

        <div class="backTo">
            <a href="/admin"><i class="fa-solid fa-circle-arrow-left"></i> Volver</a>
        </div>
    </main>
    <script src="/js/adminJs/adminValidatorProducts.js"></script>
    <%-include("../partials/footerAdmin")%>
</body>
</html>